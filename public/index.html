<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI共创人生 - 性格评估测试</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            font-style: italic;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            margin-top: 15px;
            display: inline-block;
        }
        
        .trust-indicators {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .trust-indicators span {
            background: rgba(255,255,255,0.2);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
        }
        
        .content {
            padding: 40px;
        }
        
        .intro-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .intro-section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .intro-section p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .user-info-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .user-info-section h3 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .user-info-form {
            display: grid;
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .user-info-form input,
        .user-info-form select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .user-info-form input:focus,
        .user-info-form select:focus {
            outline: none;
            border-color: #4facfe;
        }
        
        .start-test-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .start-test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 172, 254, 0.3);
        }
        
        .question-container {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.6s ease forwards;
        }
        
        .question-container:nth-child(even) {
            animation-delay: 0.1s;
        }
        
        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .question {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
            line-height: 1.6;
        }
        
        .question-category {
            font-size: 0.9em;
            color: #4facfe;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .option:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }
        
        .option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .option.selected {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: 2px solid #0066cc;
        }
        
        .submit-container {
            text-align: center;
            margin-top: 40px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }
        
        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .results {
            display: none;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }
        
        .results h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-align: center;
        }
        
        .dimension {
            margin-bottom: 20px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dimension h3 {
            color: #4facfe;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .score-bar {
            background: #e0e0e0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            transition: width 1s ease;
        }
        
        .score-text {
            text-align: center;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
            z-index: 1000;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9em;
            border-top: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .trust-indicators {
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="progress" id="progress"></div>
    
    <div class="container">
        <div class="header">
            <h1>🧠 AI共创人生</h1>
            <p>专业性格评估测试 · AI时代的人生设计</p>
            <p class="subtitle">与王博士和AI共同探索您的独特路径</p>
            
            <div class="trust-indicators">
                <span>✅ 科学可靠</span>
                <span>⭐ 500+好评</span>
                <span>🔒 隐私保护</span>
            </div>
        </div>
        
        <div class="content">
            <div class="intro-section">
                <h2>🌟 开启您的AI共创人生之旅</h2>
                <p>这不仅仅是一个性格测试，更是您人生设计的起点。</p>
                <p>我们将结合科学的性格分析和AI技术，为您提供个性化的人生方向建议。</p>
                <p><strong>适合人群：</strong>面临职业转型的专业人士，希望在AI时代重新定义人生价值的探索者</p>
            </div>
            
            <div class="user-info-section" id="userInfoSection">
                <h3>📝 开始测试前，请留下您的信息</h3>
                <div class="user-info-form">
                    <input type="email" id="userEmail" placeholder="📧 邮箱（接收详细报告）" required>
                    <input type="text" id="userName" placeholder="👤 姓名" required>
                    <select id="userAge" required>
                        <option value="">选择年龄段</option>
                        <option value="25-30">25-30岁</option>
                        <option value="30-35">30-35岁</option>
                        <option value="35-40">35-40岁</option>
                        <option value="40-45">40-45岁</option>
                        <option value="45-50">45-50岁</option>
                        <option value="50+">50岁以上</option>
                    </select>
                    <button type="button" id="startTestBtn" class="start-test-btn">开始专业评估</button>
                </div>
            </div>
            
            <form id="personalityTest" style="display: none;">
                <!-- 问题将通过JavaScript动态生成 -->
            </form>
            
            <div class="results" id="results">
                <h2>🎉 您的AI共创人生分析结果</h2>
                <div id="resultsContent"></div>
            </div>
        </div>
        
        <div class="footer">
            <p>基于大五人格理论 + AI时代人生设计方法论 | 科学可靠 | 个性化专业指导</p>
        </div>
    </div>

    <script>
        // Airtable配置 - 请替换为您的实际值
       

        const questions = [
            // 外向性维度 (Extraversion) - 社交活力
            {
                text: "在职业转型过程中，我更倾向于通过社交网络和人脉来寻找新机会",
                dimension: "extraversion",
                category: "社交网络建设",
                reverse: false
            },
            {
                text: "当面对AI等新技术时，我喜欢与他人讨论和分享学习心得",
                dimension: "extraversion", 
                category: "学习互动偏好",
                reverse: false
            },
            {
                text: "在团队协作中，我经常主动承担沟通协调的角色",
                dimension: "extraversion",
                category: "团队角色定位", 
                reverse: false
            },
            {
                text: "我更喜欢在安静的环境中独自思考人生规划和职业发展",
                dimension: "extraversion",
                category: "思考环境偏好",
                reverse: true
            },
            {
                text: "面对职场挑战时，我倾向于独自分析问题而不是寻求他人建议",
                dimension: "extraversion", 
                category: "问题解决方式",
                reverse: true
            },

            // 开放性维度 (Openness) - 创新思维
            {
                text: "我对AI、机器学习等新兴技术充满好奇，愿意投入时间深入学习",
                dimension: "openness",
                category: "技术接受度",
                reverse: false
            },
            {
                text: "在考虑职业转型时，我会主动探索跨行业的创新机会",
                dimension: "openness",
                category: "跨界探索意愿",
                reverse: false
            },
            {
                text: "我经常思考如何将创意和想象力融入到工作中",
                dimension: "openness",
                category: "创意整合能力",
                reverse: false
            },
            {
                text: "相比尝试新的工作方式，我更倾向于坚持已验证的传统方法",
                dimension: "openness",
                category: "方法论偏好",
                reverse: true
            },
            {
                text: "我认为在成熟稳定的行业工作比在快速变化的新兴领域更有安全感",
                dimension: "openness",
                category: "行业选择倾向",
                reverse: true
            },

            // 尽责性维度 (Conscientiousness) - 执行力
            {
                text: "在制定人生规划时，我会设定明确的阶段性目标和时间节点",
                dimension: "conscientiousness",
                category: "目标规划能力",
                reverse: false
            },
            {
                text: "我能够长期坚持学习新技能，即使过程枯燥也不轻易放弃",
                dimension: "conscientiousness",
                category: "学习坚持力",
                reverse: false
            },
            {
                text: "面对复杂的职业转型计划，我会制定详细的执行步骤",
                dimension: "conscientiousness",
                category: "执行规划能力",
                reverse: false
            },
            {
                text: "我经常因为被新的想法吸引而改变原有的计划和安排",
                dimension: "conscientiousness",
                category: "计划稳定性",
                reverse: true
            },
            {
                text: "在项目执行过程中，我更喜欢保持灵活性而非严格按计划进行",
                dimension: "conscientiousness",
                category: "执行风格偏好",
                reverse: true
            },

            // 宜人性维度 (Agreeableness) - 协作共情
            {
                text: "在团队决策中，我更注重达成共识而非推进个人观点",
                dimension: "agreeableness",
                category: "团队决策参与",
                reverse: false
            },
            {
                text: "我愿意花时间帮助同事适应新技术或解决工作困难",
                dimension: "agreeableness",
                category: "助人合作意愿",
                reverse: false
            },
            {
                text: "在职场冲突中，我倾向于寻找双赢的解决方案",
                dimension: "agreeableness",
                category: "冲突处理方式",
                reverse: false
            },
            {
                text: "在竞争激烈的环境中，我认为个人成功比维护团队和谐更重要",
                dimension: "agreeableness",
                category: "竞争价值取向",
                reverse: true
            },
            {
                text: "我更擅长在需要果断决策和直接沟通的环境中工作",
                dimension: "agreeableness",
                category: "沟通决策风格",
                reverse: true
            },

            // 神经质维度 (Neuroticism) - 情绪稳定性
            {
                text: "面对职业转型的不确定性时，我经常感到焦虑和担忧",
                dimension: "neuroticism",
                category: "变化适应能力",
                reverse: false
            },
            {
                text: "当工作压力较大时，我的情绪容易受到影响",
                dimension: "neuroticism",
                category: "压力敏感度",
                reverse: false
            },
            {
                text: "我经常担心AI技术发展会对我的职业安全造成威胁",
                dimension: "neuroticism",
                category: "技术焦虑程度",
                reverse: false
            },
            {
                text: "即使面临重大挑战，我也能保持冷静和乐观的心态",
                dimension: "neuroticism",
                category: "抗压稳定性",
                reverse: true
            },
            {
                text: "在高压环境下，我反而能发挥出更好的工作表现",
                dimension: "neuroticism",
                category: "压力转化能力",
                reverse: true
            },

            // 补充维度 - AI时代特殊能力
            {
                text: "我能够快速理解和运用各种AI工具来提升工作效率",
                dimension: "ai_adaptability",
                category: "AI工具运用",
                reverse: false
            },
            {
                text: "我相信人工智能可以成为职业发展的助力而非威胁",
                dimension: "ai_adaptability", 
                category: "AI认知态度",
                reverse: false
            },
            {
                text: "在数字化转型中，我更关注如何保持人的独特价值",
                dimension: "human_value",
                category: "人文价值坚持",
                reverse: false
            },
            {
                text: "我倾向于将生活和工作进行清晰的边界划分",
                dimension: "life_integration",
                category: "工作生活平衡",
                reverse: true
            },
            {
                text: "我对创业或成为自由职业者有浓厚的兴趣",
                dimension: "entrepreneurship",
                category: "创业倾向度",
                reverse: false
            }
        ];

        const dimensionNames = {
            extraversion: "社交活力指数",
            openness: "创新开放指数", 
            conscientiousness: "执行可靠指数",
            agreeableness: "协作共情指数",
            neuroticism: "情绪波动指数",
            ai_adaptability: "AI适应指数",
            human_value: "人文价值指数",
            life_integration: "生活整合指数",
            entrepreneurship: "创业潜力指数"
        };

        let currentAnswers = {};
        let userData = {};
        let testScores = {};

        // Airtable API函数
        async function sendToAirtable(data) {
    try {
        const response = await fetch('/api/submit-test', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });

        const result = await response.json();
        
        if (result.success) {
            console.log('数据已成功保存，记录ID:', result.recordId);
            window.airtableRecordId = result.recordId;
        }
        
        return result.success;
    } catch (error) {
        console.error('发送数据时出错:', error);
        return false;
    }
}

        // 用户信息收集功能
        function validateUserInfo() {
            const email = document.getElementById('userEmail').value.trim();
            const name = document.getElementById('userName').value.trim();
            const age = document.getElementById('userAge').value;
            
            if (!email || !name || !age) {
                alert('请填写完整的用户信息后开始测试');
                return false;
            }
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('请输入有效的邮箱地址');
                return false;
            }
            
            userData = { email, name, age };
            
            document.getElementById('userInfoSection').style.display = 'none';
            document.getElementById('personalityTest').style.display = 'block';
            
            return true;
        }

        function initializeTest() {
            const form = document.getElementById('personalityTest');
            
            document.getElementById('startTestBtn').addEventListener('click', function() {
                if (validateUserInfo()) {
                    // 开始测试
                }
            });
            
            questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                questionDiv.innerHTML = `
                    <div class="question-category">${question.category}</div>
                    <div class="question">${index + 1}. ${question.text}</div>
                    <div class="options">
                        ${[1,2,3,4,5].map(value => `
                            <label class="option" data-question="${index}" data-value="${value}">
                                <input type="radio" name="q${index}" value="${value}" required>
                                ${getScaleLabel(value)}
                            </label>
                        `).join('')}
                    </div>
                `;
                form.appendChild(questionDiv);
            });

            const submitDiv = document.createElement('div');
            submitDiv.className = 'submit-container';
            submitDiv.innerHTML = `
                <button type="submit" class="submit-btn" id="submitBtn" disabled>开始AI共创人生分析 ✨</button>
            `;
            form.appendChild(submitDiv);

            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionIndex = this.dataset.question;
                    const value = this.dataset.value;
                    
                    document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    this.classList.add('selected');
                    this.querySelector('input').checked = true;
                    
                    currentAnswers[questionIndex] = parseInt(value);
                    updateProgress();
                });
            });

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                calculateResults();
            });
        }

        function getScaleLabel(value) {
            const labels = {
                1: "完全不符合",
                2: "不太符合", 
                3: "中性",
                4: "比较符合",
                5: "非常符合"
            };
            return labels[value];
        }

        function updateProgress() {
            const answered = Object.keys(currentAnswers).length;
            const total = questions.length;
            const percentage = (answered / total) * 100;
            
            document.getElementById('progress').style.width = percentage + '%';
            
            const submitBtn = document.getElementById('submitBtn');
            if (answered === total) {
                submitBtn.disabled = false;
                submitBtn.textContent = '开始AI共创人生分析 ✨';
            }
        }

        function calculateResults() {
            const scores = {};
            const counts = {};
            
            const questionToDimension = {
                0: 'extraversion', 1: 'extraversion', 2: 'extraversion', 3: 'extraversion', 4: 'extraversion',
                5: 'openness', 6: 'openness', 7: 'openness', 8: 'openness', 9: 'openness',
                10: 'conscientiousness', 11: 'conscientiousness', 12: 'conscientiousness', 13: 'conscientiousness', 14: 'conscientiousness',
                15: 'agreeableness', 16: 'agreeableness', 17: 'agreeableness', 18: 'agreeableness', 19: 'agreeableness',
                20: 'neuroticism', 21: 'neuroticism', 22: 'neuroticism', 23: 'neuroticism', 24: 'neuroticism',
                25: 'ai_adaptability', 26: 'ai_adaptability',
                27: 'human_value',
                28: 'life_integration',
                29: 'entrepreneurship'
            };
            
            const reverseQuestions = [3, 4, 8, 9, 13, 14, 18, 19, 23, 24, 28];

            Object.keys(dimensionNames).forEach(dimension => {
                scores[dimension] = 0;
                counts[dimension] = 0;
            });

            Object.keys(currentAnswers).forEach(questionIndex => {
                const qIndex = parseInt(questionIndex);
                const dimension = questionToDimension[qIndex];
                
                if (dimension) {
                    let score = currentAnswers[qIndex];
                    
                    if (reverseQuestions.includes(qIndex)) {
                        score = 6 - score;
                    }
                    
                    scores[dimension] += score;
                    counts[dimension]++;
                }
            });

            Object.keys(scores).forEach(dimension => {
                if (counts[dimension] > 0) {
                    const avgScore = scores[dimension] / counts[dimension];
                    scores[dimension] = Math.round((avgScore / 5) * 100);
                } else {
                    scores[dimension] = 0;
                }
            });

            testScores = scores;
            
            // 发送基础测试数据到Airtable
            const airtableData = {
                name: userData.name,
                email: userData.email,
                age_group: userData.age,
                test_date: new Date().toISOString().split('T')[0],
                extraversion: scores.extraversion,
                openness: scores.openness,
                conscientiousness: scores.conscientiousness,
                agreeableness: scores.agreeableness,
                neuroticism: scores.neuroticism,
                ai_adaptability: scores.ai_adaptability,
                human_value: scores.human_value,
                life_integration: scores.life_integration,
                entrepreneurship: scores.entrepreneurship,
                purchase_intent: 'None'
            };
            
            sendToAirtable(airtableData);

            displayResults(scores);
        }

        async function updatePurchaseIntent(intent) {
            // 更新用户的购买意向
            const updateData = {
                purchase_intent: intent
            };
            
            // 这里需要实现更新逻辑，需要记录ID
            console.log('购买意向更新:', intent);
        }

        async function purchaseReport() {
            await updatePurchaseIntent('Report');
            
            const message = `您好！我想购买AI共创人生性格测试详细分析报告。

我的信息：
姓名：${userData.name}
邮箱：${userData.email}
年龄段：${userData.age}

产品：详细性格分析报告 - $19
包含：个性化分析报告，具体行动建议和资源推荐

期待收到详细报告！`;
            
            alert('购买信息已记录，我们会在24小时内联系您完成付款和发送报告！\n\n' + message);
            
            console.log('报告购买请求:', { 
                user: userData, 
                product: 'detailed_report', 
                price: 19 
            });
        }

        async function bookConsultation() {
            await updatePurchaseIntent('Consultation');
            
            const message = `您好！我想预约AI共创人生个性化咨询服务。

我的信息：
姓名：${userData.name}
邮箱：${userData.email}
年龄段：${userData.age}

服务：个性化人生设计咨询 - $99
包含：2-3小时深度咨询，详细报告和行动计划

期待与王博士的深度交流！`;
            
            alert('预约信息已记录，我们会在24小时内联系您安排咨询时间！\n\n' + message);
            
            console.log('咨询预约请求:', { 
                user: userData, 
                service: 'consultation', 
                price: 99 
            });
        }

        async function joinWorkshop() {
            await updatePurchaseIntent('Workshop');
            
            const message = `您好！我想报名AI共创人生工坊。

我的信息：
姓名：${userData.name}
邮箱：${userData.email}
年龄段：${userData.age}

服务：AI共创人生工坊 - $199
包含：半天工坊，小组共创体验

期待参与工坊活动！`;
            
            alert('报名信息已记录，我们会在24小时内联系您确认工坊时间和地点！\n\n' + message);
            
            console.log('工坊报名请求:', { 
                user: userData, 
                service: 'workshop', 
                price: 199 
            });
        }

        function displayResults(scores) {
            const resultsContent = document.getElementById('resultsContent');
            resultsContent.innerHTML = '';

            Object.entries(scores).forEach(([dimension, score]) => {
                const dimensionDiv = document.createElement('div');
                dimensionDiv.className = 'dimension';
                
                const level = getScoreLevel(score);
                const interpretation = getInterpretation(dimension, score);
                const aiAgeAdvice = getAIAgeAdvice(dimension, score);
                
                dimensionDiv.innerHTML = `
                    <h3>${dimensionNames[dimension]}</h3>
                    <p style="color: #666; margin-bottom: 15px;">${getDimensionDescription(dimension)}</p>
                    <div class="score-bar">
                        <div class="score-fill" style="width: ${score}%"></div>
                    </div>
                    <div class="score-text">${score.toFixed(0)}% - ${level}</div>
                    <p style="margin-top: 10px; line-height: 1.6;"><strong>性格解读：</strong>${interpretation}</p>
                    <p style="margin-top: 10px; line-height: 1.6; color: #4facfe;"><strong>AI时代建议：</strong>${aiAgeAdvice}</p>
                `;
                
                resultsContent.appendChild(dimensionDiv);
            });

            // 添加AI共创建议总结
            const summaryDiv = document.createElement('div');
            summaryDiv.className = 'dimension';
            summaryDiv.style.background = 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)';
            summaryDiv.style.color = 'white';
            summaryDiv.innerHTML = `
                <h3>🎯 您的AI共创人生方向</h3>
                <p>基于您的性格特征，我们为您推荐以下发展方向：</p>
                <ul style="margin: 15px 0; padding-left: 20px; line-height: 1.8;">
                    ${getAICoCreationAdvice(scores).map(advice => `<li>${advice}</li>`).join('')}
                </ul>
            `;
            resultsContent.appendChild(summaryDiv);

            // 添加深度咨询引导
            const consultationDiv = document.createElement('div');
            consultationDiv.className = 'dimension';
            consultationDiv.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            consultationDiv.style.color = 'white';
            consultationDiv.innerHTML = `
                <h3>🌟 下一步：深度AI共创人生指导</h3>
                <p style="margin-bottom: 15px;">准备好将测试结果转化为具体的人生设计方案吗？</p>
                
                <div style="display: grid; gap: 15px; margin: 20px 0;">
                    <div style="background: rgba(255,255,255,0.15); padding: 20px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3);">
                        <h4>📊 详细性格分析报告</h4>
                        <p style="font-size: 0.9em; margin-top: 5px;">个性化分析报告，包含具体行动建议和资源推荐</p>
                        <div style="text-align: center; margin: 15px 0;">
                            <span style="font-size: 1.3em; font-weight: bold; color: #FFD700;">$19</span>
                            <span style="font-size: 0.8em; opacity: 0.8; margin-left: 10px;">Beta测试特价</span>
                        </div>
                        <p style="font-size: 0.8em; opacity: 0.9;">📄 完成测试即可购买 | 🎯 最受欢迎的入门选择</p>
                        <div style="text-align: center; margin-top: 15px;">
                            <button style="background: #4facfe; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 1em;" onclick="purchaseReport()">
                                💳 立即购买报告 $19
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <h4>💡 个性化人生设计咨询</h4>
                        <p style="font-size: 0.9em; margin-top: 5px;">基于您的测试结果，制定专属的AI时代人生规划</p>
                        <div style="text-align: center; margin: 10px 0;">
                            <span style="font-size: 1.2em; font-weight: bold; color: #FFD700;">$99</span>
                            <span style="font-size: 0.7em; text-decoration: line-through; opacity: 0.7; margin-left: 8px;">原价$299</span>
                        </div>
                        <p style="font-size: 0.8em; margin-top: 8px; opacity: 0.9;">🕒 2-3小时深度咨询 | 💰 包含详细报告和行动计划</p>
                        <div style="text-align: center; margin-top: 15px;">
                            <button style="background: #667eea; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 1em;" onclick="bookConsultation()">
                                📞 预约咨询 $99
                            </button>
                        </div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <h4>🚀 AI共创人生工坊</h4>
                        <p style="font-size: 0.9em; margin-top: 5px;">小组形式，与同类型人格者共同探索人生可能性</p>
                        <div style="text-align: center; margin: 10px 0;">
                            <span style="font-size: 1.2em; font-weight: bold; color: #FFD700;">$199</span>
                            <span style="font-size: 0.7em; text-decoration: line-through; opacity: 0.7; margin-left: 8px;">原价$399</span>
                        </div>
                        <p style="font-size: 0.8em; margin-top: 8px; opacity: 0.9;">🕒 半天工坊 | 🤝 小组共创体验</p>
                        <div style="text-align: center; margin-top: 15px;">
                            <button style="background: #764ba2; color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; font-size: 1em;" onclick="joinWorkshop()">
                                🚀 报名工坊 $199
                            </button>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.15); border-radius: 10px;">
                    <h4>📞 需要帮助或有疑问？</h4>
                    <p style="margin: 8px 0;"><strong>邮箱：</strong> info@aicocreatelife.com</p>
                    <p style="margin: 8px 0;"><strong>微信号：</strong> wxid_boe94vvd7pen12（王青平）</p>
                    <p style="margin: 8px 0;"><strong>电话：</strong> 1 (310) 951-1326</p>
                    <p style="font-size: 0.9em; margin-top: 15px; opacity: 0.9;">
                        💝 <strong>分享测试结果到朋友圈，额外享受9折优惠！</strong>
                    </p>
                </div>
            `;
            resultsContent.appendChild(consultationDiv);

            document.getElementById('personalityTest').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            document.getElementById('results').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function getDimensionDescription(dimension) {
            const descriptions = {
                extraversion: "衡量您在团队协作和社交网络建设方面的天然优势",
                openness: "反映您对新技术、新理念的接受度和创新思维能力",
                conscientiousness: "显示您在项目管理、目标达成方面的可靠程度",
                agreeableness: "衡量您在团队建设、客户关系维护方面的能力",
                neuroticism: "反映您在压力环境下的情绪管理和决策稳定性",
                ai_adaptability: "评估您对AI技术的接受度和运用能力",
                human_value: "衡量您对人文价值的坚持和独特性的追求",
                life_integration: "反映您整合工作与生活的能力和偏好",
                entrepreneurship: "评估您的创业精神和自主创新能力"
            };
            return descriptions[dimension] || "";
        }

        function getScoreLevel(score) {
            if (score >= 80) return "很高";
            if (score >= 60) return "较高"; 
            if (score >= 40) return "中等";
            if (score >= 20) return "较低";
            return "很低";
        }

        function getInterpretation(dimension, score) {
            // 使用之前定义的解读模板
            const interpretations = {
                extraversion: {
                    high: "您天生具备优秀的团队领导力和社交网络建设能力，适合需要频繁人际互动的角色。在职业转型中，您可以充分利用人脉资源，通过社交网络发现新机会。",
                    medium: "您在社交和独处之间保持良好平衡，能够适应不同的工作环境和团队动态。这种灵活性让您在多种工作场景中都能发挥优势。",
                    low: "您更适合深度工作和专业研究，在需要专注和独立思考的领域能发挥最佳优势。建议选择能够发挥专业深度的职业方向。"
                }
                // 其他维度的解读...
            };

            let level = score >= 60 ? "high" : score >= 40 ? "medium" : "low";
            return interpretations[dimension]?.[level] || "基于您的得分特征，建议重视这个维度的发展。";
        }

        function getAIAgeAdvice(dimension, score) {
            // 使用之前定义的AI时代建议
            return "利用AI技术提升您在这个维度的能力表现。";
        }

        function getAICoCreationAdvice(scores) {
            const advice = [];
            
            if (scores.extraversion >= 60 && scores.openness >= 60) {
                advice.push("💡 AI时代创新领导者：结合社交能力和开放思维，考虑AI创业或创新团队管理");
            }
            
            if (scores.ai_adaptability >= 60 && scores.conscientiousness >= 60) {
                advice.push("🚀 AI项目管理专家：您的技术适应力和执行力使您成为AI项目的理想负责人");
            }
            
            if (scores.human_value >= 60 && scores.agreeableness >= 60) {
                advice.push("🤝 人机协作设计师：在AI发展中坚持人文关怀，设计更人性化的技术应用");
            }
            
            if (advice.length < 3) {
                advice.push("📚 AI时代终身学习者：持续提升数字素养，在变化中保持竞争力");
                advice.push("🔍 个人品牌建设者：利用AI工具放大个人影响力，建立专业声誉");
                advice.push("🎨 创意与技术融合者：在人文创意与AI技术之间找到独特的价值创造点");
            }
            
            return advice.slice(0, 5);
        }

        // 页面加载完成后初始化测试
        document.addEventListener('DOMContentLoaded', function() {
            initializeTest();
        });
    </script>
</body>
</html>
